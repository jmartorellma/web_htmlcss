{"id":"Yfcz","dependencies":[{"name":"/mnt/c/VSCodeProjects/htmlcss/node_modules/@uirouter/core/lib-esm/transition/hookBuilder.js.map","includedInParent":true,"mtime":499162500000},{"name":"/mnt/c/VSCodeProjects/htmlcss/package.json","includedInParent":true,"mtime":1586051529139},{"name":"/mnt/c/VSCodeProjects/htmlcss/.browserslistrc","includedInParent":true,"mtime":1585754583397},{"name":"/mnt/c/VSCodeProjects/htmlcss/node_modules/@uirouter/core/package.json","includedInParent":true,"mtime":1586051527707},{"name":"../common/common","loc":{"line":2,"column":59},"parent":"/mnt/c/VSCodeProjects/htmlcss/node_modules/@uirouter/core/lib-esm/transition/hookBuilder.js","resolved":"/mnt/c/VSCodeProjects/htmlcss/node_modules/@uirouter/core/lib-esm/common/common.js"},{"name":"../common/predicates","loc":{"line":3,"column":24},"parent":"/mnt/c/VSCodeProjects/htmlcss/node_modules/@uirouter/core/lib-esm/transition/hookBuilder.js","resolved":"/mnt/c/VSCodeProjects/htmlcss/node_modules/@uirouter/core/lib-esm/common/predicates.js"},{"name":"./interface","loc":{"line":4,"column":58},"parent":"/mnt/c/VSCodeProjects/htmlcss/node_modules/@uirouter/core/lib-esm/transition/hookBuilder.js","resolved":"/mnt/c/VSCodeProjects/htmlcss/node_modules/@uirouter/core/lib-esm/transition/interface.js"},{"name":"./transitionHook","loc":{"line":5,"column":31},"parent":"/mnt/c/VSCodeProjects/htmlcss/node_modules/@uirouter/core/lib-esm/transition/hookBuilder.js","resolved":"/mnt/c/VSCodeProjects/htmlcss/node_modules/@uirouter/core/lib-esm/transition/transitionHook.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.HookBuilder=void 0;var t=require(\"../common/common\"),e=require(\"../common/predicates\"),n=require(\"./interface\"),r=require(\"./transitionHook\"),o=function(){function o(t){this.transition=t}return o.prototype.buildHooksForPhase=function(e){var n=this;return this.transition.router.transitionService._pluginapi._getEvents(e).map(function(t){return n.buildHooks(t)}).reduce(t.unnestR,[]).filter(t.identity)},o.prototype.buildHooks=function(e){var o=this.transition,a=o.treeChanges(),s=this.getMatchingHooks(e,a,o);if(!s)return[];var u={transition:o,current:o.options().current};return s.map(function(i){return i.matches(a,o)[e.criteriaMatchPath.name].map(function(a){var s=(0,t.extend)({bind:i.bind,traceData:{hookType:e.name,context:a}},u),c=e.criteriaMatchPath.scope===n.TransitionHookScope.STATE?a.state.self:null,h=new r.TransitionHook(o,c,i,s);return{hook:i,node:a,transitionHook:h}})}).reduce(t.unnestR,[]).sort(i(e.reverseSort)).map(function(t){return t.transitionHook})},o.prototype.getMatchingHooks=function(r,o,i){var a=r.hookPhase===n.TransitionHookPhase.CREATE,s=this.transition.router.transitionService;return(a?[s]:[this.transition,s]).map(function(t){return t.getHooks(r.name)}).filter((0,t.assertPredicate)(e.isArray,\"broken event named: \"+r.name)).reduce(t.unnestR,[]).filter(function(t){return t.matches(o,i)})},o}();function i(t){return void 0===t&&(t=!1),function(e,n){var r=t?-1:1,o=(e.node.state.path.length-n.node.state.path.length)*r;return 0!==o?o:n.hook.priority-e.hook.priority}}exports.HookBuilder=o;"},"sourceMaps":{"js":{"mappings":[{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":151,"column":1},"generated":{"line":1,"column":0}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":151,"column":1},"generated":{"line":1,"column":13}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":151,"column":1},"generated":{"line":1,"column":20}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":151,"column":1},"generated":{"line":1,"column":35}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":151,"column":1},"generated":{"line":1,"column":43}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":151,"column":1},"generated":{"line":1,"column":56}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":151,"column":1},"generated":{"line":1,"column":57}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":151,"column":1},"generated":{"line":1,"column":64}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":151,"column":1},"generated":{"line":1,"column":68}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":151,"column":1},"generated":{"line":1,"column":76}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":151,"column":1},"generated":{"line":1,"column":93}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":95}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":99}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":101}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":109}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":129}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":131}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":139}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":163}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":165}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":173}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":16,"column":0},"generated":{"line":1,"column":188}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":16,"column":0},"generated":{"line":1,"column":190}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":16,"column":0},"generated":{"line":1,"column":198}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":37,"column":0},"generated":{"line":1,"column":218}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":37,"column":0},"generated":{"line":1,"column":220}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":38,"column":2},"generated":{"line":1,"column":231}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":38,"column":2},"generated":{"line":1,"column":240}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":38,"column":22},"generated":{"line":1,"column":242}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":38,"column":22},"generated":{"line":1,"column":245}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":38,"column":22},"generated":{"line":1,"column":250}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":38,"column":22},"generated":{"line":1,"column":261}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":128,"column":0},"generated":{"line":1,"column":263}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":40,"column":2},"generated":{"line":1,"column":270}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":40,"column":2},"generated":{"line":1,"column":272}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":40,"column":2},"generated":{"line":1,"column":282}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":40,"column":2},"generated":{"line":1,"column":301}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":40,"column":21},"generated":{"line":1,"column":310}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":40,"column":2},"generated":{"line":1,"column":313}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":40,"column":2},"generated":{"line":1,"column":317}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":40,"column":2},"generated":{"line":1,"column":319}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":42,"column":11},"generated":{"line":1,"column":324}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":41,"column":25},"generated":{"line":1,"column":331}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":41,"column":30},"generated":{"line":1,"column":336}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":41,"column":41},"generated":{"line":1,"column":347}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":41,"column":48},"generated":{"line":1,"column":354}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":42,"column":24},"generated":{"line":1,"column":372}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":43,"column":7},"generated":{"line":1,"column":383}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":43,"column":18},"generated":{"line":1,"column":394}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":44,"column":7},"generated":{"line":1,"column":397}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":44,"column":11},"generated":{"line":1,"column":401}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":44,"column":11},"generated":{"line":1,"column":410}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":44,"column":19},"generated":{"line":1,"column":413}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":44,"column":19},"generated":{"line":1,"column":420}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":44,"column":24},"generated":{"line":1,"column":422}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":44,"column":35},"generated":{"line":1,"column":433}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":45,"column":7},"generated":{"line":1,"column":438}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":45,"column":14},"generated":{"line":1,"column":445}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":42,"column":11},"generated":{"line":1,"column":447}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":45,"column":23},"generated":{"line":1,"column":455}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":46,"column":7},"generated":{"line":1,"column":459}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":46,"column":14},"generated":{"line":1,"column":466}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":42,"column":11},"generated":{"line":1,"column":468}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":58,"column":2},"generated":{"line":1,"column":479}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":58,"column":2},"generated":{"line":1,"column":481}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":58,"column":2},"generated":{"line":1,"column":491}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":58,"column":2},"generated":{"line":1,"column":502}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":58,"column":13},"generated":{"line":1,"column":511}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":59,"column":10},"generated":{"line":1,"column":514}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":59,"column":10},"generated":{"line":1,"column":518}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":59,"column":23},"generated":{"line":1,"column":520}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":59,"column":28},"generated":{"line":1,"column":525}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":60,"column":10},"generated":{"line":1,"column":536}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":60,"column":24},"generated":{"line":1,"column":538}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":60,"column":35},"generated":{"line":1,"column":540}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":63,"column":10},"generated":{"line":1,"column":554}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":63,"column":26},"generated":{"line":1,"column":556}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":63,"column":31},"generated":{"line":1,"column":561}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":63,"column":48},"generated":{"line":1,"column":578}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":63,"column":58},"generated":{"line":1,"column":580}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":63,"column":71},"generated":{"line":1,"column":582}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":64,"column":8},"generated":{"line":1,"column":585}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":64,"column":9},"generated":{"line":1,"column":589}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":64,"column":24},"generated":{"line":1,"column":591}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":64,"column":31},"generated":{"line":1,"column":597}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":66,"column":10},"generated":{"line":1,"column":600}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":66,"column":10},"generated":{"line":1,"column":604}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":66,"column":51},"generated":{"line":1,"column":606}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":67,"column":6},"generated":{"line":1,"column":607}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":67,"column":18},"generated":{"line":1,"column":618}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":68,"column":6},"generated":{"line":1,"column":620}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":68,"column":15},"generated":{"line":1,"column":628}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":68,"column":26},"generated":{"line":1,"column":630}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":68,"column":36},"generated":{"line":1,"column":640}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":93,"column":11},"generated":{"line":1,"column":649}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":93,"column":11},"generated":{"line":1,"column":656}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":94,"column":7},"generated":{"line":1,"column":658}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":71,"column":32},"generated":{"line":1,"column":662}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":71,"column":33},"generated":{"line":1,"column":671}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":78,"column":13},"generated":{"line":1,"column":674}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":73,"column":38},"generated":{"line":1,"column":681}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":73,"column":43},"generated":{"line":1,"column":683}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":73,"column":51},"generated":{"line":1,"column":691}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":73,"column":64},"generated":{"line":1,"column":693}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":75,"column":48},"generated":{"line":1,"column":696}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":75,"column":57},"generated":{"line":1,"column":698}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":75,"column":75},"generated":{"line":1,"column":716}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":78,"column":27},"generated":{"line":1,"column":722}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":78,"column":31},"generated":{"line":1,"column":726}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":78,"column":31},"generated":{"line":1,"column":735}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":79,"column":14},"generated":{"line":1,"column":738}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":79,"column":14},"generated":{"line":1,"column":742}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":79,"column":25},"generated":{"line":1,"column":745}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":80,"column":10},"generated":{"line":1,"column":747}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":80,"column":10},"generated":{"line":1,"column":749}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":80,"column":10},"generated":{"line":1,"column":757}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":81,"column":12},"generated":{"line":1,"column":758}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":81,"column":18},"generated":{"line":1,"column":763}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":81,"column":23},"generated":{"line":1,"column":765}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":82,"column":12},"generated":{"line":1,"column":770}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":82,"column":23},"generated":{"line":1,"column":780}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":82,"column":25},"generated":{"line":1,"column":781}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":82,"column":35},"generated":{"line":1,"column":790}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":82,"column":44},"generated":{"line":1,"column":792}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":82,"column":50},"generated":{"line":1,"column":797}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":82,"column":59},"generated":{"line":1,"column":805}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":84,"column":10},"generated":{"line":1,"column":809}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":87,"column":14},"generated":{"line":1,"column":812}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":87,"column":22},"generated":{"line":1,"column":814}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":87,"column":31},"generated":{"line":1,"column":816}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":87,"column":49},"generated":{"line":1,"column":834}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":87,"column":59},"generated":{"line":1,"column":842}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":87,"column":79},"generated":{"line":1,"column":844}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":87,"column":79},"generated":{"line":1,"column":864}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":87,"column":87},"generated":{"line":1,"column":870}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":87,"column":92},"generated":{"line":1,"column":872}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":87,"column":98},"generated":{"line":1,"column":878}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":87,"column":105},"generated":{"line":1,"column":883}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":88,"column":14},"generated":{"line":1,"column":888}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":88,"column":31},"generated":{"line":1,"column":890}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":88,"column":35},"generated":{"line":1,"column":894}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":88,"column":31},"generated":{"line":1,"column":896}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":88,"column":50},"generated":{"line":1,"column":911}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":88,"column":62},"generated":{"line":1,"column":913}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":88,"column":69},"generated":{"line":1,"column":915}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":88,"column":75},"generated":{"line":1,"column":917}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":89,"column":26},"generated":{"line":1,"column":920}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":89,"column":26},"generated":{"line":1,"column":926}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":89,"column":28},"generated":{"line":1,"column":927}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":89,"column":32},"generated":{"line":1,"column":932}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":89,"column":34},"generated":{"line":1,"column":934}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":89,"column":38},"generated":{"line":1,"column":939}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":89,"column":40},"generated":{"line":1,"column":941}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":89,"column":54},"generated":{"line":1,"column":956}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":95,"column":7},"generated":{"line":1,"column":963}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":95,"column":14},"generated":{"line":1,"column":970}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":93,"column":11},"generated":{"line":1,"column":972}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":95,"column":23},"generated":{"line":1,"column":980}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":96,"column":7},"generated":{"line":1,"column":984}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":96,"column":12},"generated":{"line":1,"column":989}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":96,"column":22},"generated":{"line":1,"column":991}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":96,"column":31},"generated":{"line":1,"column":993}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":97,"column":7},"generated":{"line":1,"column":1007}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":97,"column":11},"generated":{"line":1,"column":1011}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":97,"column":11},"generated":{"line":1,"column":1020}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":97,"column":20},"generated":{"line":1,"column":1023}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":97,"column":20},"generated":{"line":1,"column":1030}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":97,"column":26},"generated":{"line":1,"column":1032}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":111,"column":9},"generated":{"line":1,"column":1050}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":111,"column":9},"generated":{"line":1,"column":1052}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":111,"column":9},"generated":{"line":1,"column":1062}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":111,"column":2},"generated":{"line":1,"column":1079}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":112,"column":4},"generated":{"line":1,"column":1088}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":113,"column":4},"generated":{"line":1,"column":1090}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":114,"column":4},"generated":{"line":1,"column":1092}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":116,"column":10},"generated":{"line":1,"column":1095}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":116,"column":10},"generated":{"line":1,"column":1099}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":116,"column":21},"generated":{"line":1,"column":1101}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":116,"column":30},"generated":{"line":1,"column":1103}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":116,"column":44},"generated":{"line":1,"column":1115}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":116,"column":64},"generated":{"line":1,"column":1117}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":116,"column":64},"generated":{"line":1,"column":1137}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":119,"column":10},"generated":{"line":1,"column":1144}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":119,"column":25},"generated":{"line":1,"column":1146}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":119,"column":30},"generated":{"line":1,"column":1151}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":119,"column":41},"generated":{"line":1,"column":1162}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":119,"column":48},"generated":{"line":1,"column":1169}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":122,"column":11},"generated":{"line":1,"column":1187}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":120,"column":23},"generated":{"line":1,"column":1194}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":120,"column":34},"generated":{"line":1,"column":1196}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":120,"column":35},"generated":{"line":1,"column":1197}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":120,"column":51},"generated":{"line":1,"column":1200}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":120,"column":52},"generated":{"line":1,"column":1201}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":120,"column":57},"generated":{"line":1,"column":1206}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":120,"column":69},"generated":{"line":1,"column":1217}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":123,"column":7},"generated":{"line":1,"column":1221}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":123,"column":11},"generated":{"line":1,"column":1225}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":123,"column":12},"generated":{"line":1,"column":1234}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":123,"column":35},"generated":{"line":1,"column":1237}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":123,"column":35},"generated":{"line":1,"column":1244}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":123,"column":39},"generated":{"line":1,"column":1246}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":123,"column":48},"generated":{"line":1,"column":1255}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":123,"column":57},"generated":{"line":1,"column":1257}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":124,"column":7},"generated":{"line":1,"column":1265}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":124,"column":14},"generated":{"line":1,"column":1273}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":124,"column":30},"generated":{"line":1,"column":1275}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":124,"column":30},"generated":{"line":1,"column":1277}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":124,"column":30},"generated":{"line":1,"column":1294}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":124,"column":14},"generated":{"line":1,"column":1296}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":124,"column":39},"generated":{"line":1,"column":1304}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":124,"column":62},"generated":{"line":1,"column":1327}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":124,"column":71},"generated":{"line":1,"column":1329}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":125,"column":7},"generated":{"line":1,"column":1336}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":125,"column":14},"generated":{"line":1,"column":1343}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":122,"column":11},"generated":{"line":1,"column":1345}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":125,"column":23},"generated":{"line":1,"column":1353}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":126,"column":7},"generated":{"line":1,"column":1357}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":126,"column":14},"generated":{"line":1,"column":1364}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":126,"column":14},"generated":{"line":1,"column":1373}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":126,"column":22},"generated":{"line":1,"column":1376}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":126,"column":22},"generated":{"line":1,"column":1383}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":126,"column":27},"generated":{"line":1,"column":1385}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":126,"column":35},"generated":{"line":1,"column":1393}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":126,"column":48},"generated":{"line":1,"column":1395}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":128,"column":0},"generated":{"line":1,"column":1401}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":37,"column":0},"generated":{"line":1,"column":1403}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":145,"column":0},"generated":{"line":1,"column":1406}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":145,"column":9},"generated":{"line":1,"column":1415}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":145,"column":19},"generated":{"line":1,"column":1417}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":146,"column":9},"generated":{"line":1,"column":1420}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":145,"column":19},"generated":{"line":1,"column":1432}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":145,"column":19},"generated":{"line":1,"column":1436}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":145,"column":19},"generated":{"line":1,"column":1440}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":145,"column":19},"generated":{"line":1,"column":1443}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":146,"column":9},"generated":{"line":1,"column":1446}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":146,"column":40},"generated":{"line":1,"column":1455}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":146,"column":54},"generated":{"line":1,"column":1457}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":147,"column":10},"generated":{"line":1,"column":1460}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":147,"column":10},"generated":{"line":1,"column":1464}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":147,"column":19},"generated":{"line":1,"column":1466}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":147,"column":39},"generated":{"line":1,"column":1469}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":147,"column":43},"generated":{"line":1,"column":1471}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":148,"column":10},"generated":{"line":1,"column":1473}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":148,"column":24},"generated":{"line":1,"column":1476}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":148,"column":26},"generated":{"line":1,"column":1478}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":148,"column":31},"generated":{"line":1,"column":1483}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":148,"column":37},"generated":{"line":1,"column":1489}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":148,"column":42},"generated":{"line":1,"column":1494}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":148,"column":51},"generated":{"line":1,"column":1501}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":148,"column":53},"generated":{"line":1,"column":1503}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":148,"column":58},"generated":{"line":1,"column":1508}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":148,"column":64},"generated":{"line":1,"column":1514}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":148,"column":69},"generated":{"line":1,"column":1519}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":148,"column":79},"generated":{"line":1,"column":1527}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":149,"column":11},"generated":{"line":1,"column":1529}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":149,"column":26},"generated":{"line":1,"column":1536}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":149,"column":11},"generated":{"line":1,"column":1540}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":149,"column":30},"generated":{"line":1,"column":1542}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":149,"column":43},"generated":{"line":1,"column":1544}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":149,"column":45},"generated":{"line":1,"column":1546}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":149,"column":50},"generated":{"line":1,"column":1551}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":149,"column":61},"generated":{"line":1,"column":1560}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":149,"column":63},"generated":{"line":1,"column":1562}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":149,"column":68},"generated":{"line":1,"column":1567}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":151,"column":1},"generated":{"line":1,"column":1577}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":151,"column":1},"generated":{"line":1,"column":1585}},{"source":"@uirouter/core/transition/hookBuilder.ts","name":null,"original":{"line":151,"column":1},"generated":{"line":1,"column":1597}}],"sources":{"@uirouter/core/transition/hookBuilder.ts":"/** @publicapi @module transition */ /** */\nimport { extend, tail, assertPredicate, unnestR, identity } from '../common/common';\nimport { isArray } from '../common/predicates';\n\nimport {\n  TransitionOptions,\n  TransitionHookOptions,\n  IHookRegistry,\n  TreeChanges,\n  IMatchingNodes,\n  TransitionHookPhase,\n  TransitionHookScope,\n} from './interface';\n\nimport { Transition } from './transition';\nimport { TransitionHook } from './transitionHook';\nimport { StateObject } from '../state/stateObject';\nimport { PathNode } from '../path/pathNode';\nimport { TransitionService } from './transitionService';\nimport { TransitionEventType } from './transitionEventType';\nimport { RegisteredHook } from './hookRegistry';\n\n/**\n * This class returns applicable TransitionHooks for a specific Transition instance.\n *\n * Hooks ([[RegisteredHook]]) may be registered globally, e.g., $transitions.onEnter(...), or locally, e.g.\n * myTransition.onEnter(...).  The HookBuilder finds matching RegisteredHooks (where the match criteria is\n * determined by the type of hook)\n *\n * The HookBuilder also converts RegisteredHooks objects to TransitionHook objects, which are used to run a Transition.\n *\n * The HookBuilder constructor is given the $transitions service and a Transition instance.  Thus, a HookBuilder\n * instance may only be used for one specific Transition object. (side note: the _treeChanges accessor is private\n * in the Transition class, so we must also provide the Transition's _treeChanges)\n *\n */\nexport class HookBuilder {\n  constructor(private transition: Transition) {}\n\n  buildHooksForPhase(phase: TransitionHookPhase): TransitionHook[] {\n    const $transitions = this.transition.router.transitionService;\n    return $transitions._pluginapi\n      ._getEvents(phase)\n      .map(type => this.buildHooks(type))\n      .reduce(unnestR, [])\n      .filter(identity);\n  }\n\n  /**\n   * Returns an array of newly built TransitionHook objects.\n   *\n   * - Finds all RegisteredHooks registered for the given `hookType` which matched the transition's [[TreeChanges]].\n   * - Finds [[PathNode]] (or `PathNode[]`) to use as the TransitionHook context(s)\n   * - For each of the [[PathNode]]s, creates a TransitionHook\n   *\n   * @param hookType the type of the hook registration function, e.g., 'onEnter', 'onFinish'.\n   */\n  buildHooks(hookType: TransitionEventType): TransitionHook[] {\n    const transition = this.transition;\n    const treeChanges = transition.treeChanges();\n\n    // Find all the matching registered hooks for a given hook type\n    const matchingHooks = this.getMatchingHooks(hookType, treeChanges, transition);\n    if (!matchingHooks) return [];\n\n    const baseHookOptions = <TransitionHookOptions>{\n      transition: transition,\n      current: transition.options().current,\n    };\n\n    const makeTransitionHooks = (hook: RegisteredHook) => {\n      // Fetch the Nodes that caused this hook to match.\n      const matches: IMatchingNodes = hook.matches(treeChanges, transition);\n      // Select the PathNode[] that will be used as TransitionHook context objects\n      const matchingNodes: PathNode[] = matches[hookType.criteriaMatchPath.name];\n\n      // Return an array of HookTuples\n      return matchingNodes.map(node => {\n        const _options = extend(\n          {\n            bind: hook.bind,\n            traceData: { hookType: hookType.name, context: node },\n          },\n          baseHookOptions\n        );\n\n        const state = hookType.criteriaMatchPath.scope === TransitionHookScope.STATE ? node.state.self : null;\n        const transitionHook = new TransitionHook(transition, state, hook, _options);\n        return <HookTuple>{ hook, node, transitionHook };\n      });\n    };\n\n    return matchingHooks\n      .map(makeTransitionHooks)\n      .reduce(unnestR, [])\n      .sort(tupleSort(hookType.reverseSort))\n      .map(tuple => tuple.transitionHook);\n  }\n\n  /**\n   * Finds all RegisteredHooks from:\n   * - The Transition object instance hook registry\n   * - The TransitionService ($transitions) global hook registry\n   *\n   * which matched:\n   * - the eventType\n   * - the matchCriteria (to, from, exiting, retained, entering)\n   *\n   * @returns an array of matched [[RegisteredHook]]s\n   */\n  public getMatchingHooks(\n    hookType: TransitionEventType,\n    treeChanges: TreeChanges,\n    transition: Transition\n  ): RegisteredHook[] {\n    const isCreate = hookType.hookPhase === TransitionHookPhase.CREATE;\n\n    // Instance and Global hook registries\n    const $transitions = this.transition.router.transitionService;\n    const registries = isCreate ? [$transitions] : [this.transition, $transitions];\n\n    return registries\n      .map((reg: IHookRegistry) => reg.getHooks(hookType.name)) // Get named hooks from registries\n      .filter(assertPredicate(isArray, `broken event named: ${hookType.name}`)) // Sanity check\n      .reduce(unnestR, []) // Un-nest RegisteredHook[][] to RegisteredHook[] array\n      .filter(hook => hook.matches(treeChanges, transition)); // Only those satisfying matchCriteria\n  }\n}\n\ninterface HookTuple {\n  hook: RegisteredHook;\n  node: PathNode;\n  transitionHook: TransitionHook;\n}\n\n/**\n * A factory for a sort function for HookTuples.\n *\n * The sort function first compares the PathNode depth (how deep in the state tree a node is), then compares\n * the EventHook priority.\n *\n * @param reverseDepthSort a boolean, when true, reverses the sort order for the node depth\n * @returns a tuple sort function\n */\nfunction tupleSort(reverseDepthSort = false) {\n  return function nodeDepthThenPriority(l: HookTuple, r: HookTuple): number {\n    const factor = reverseDepthSort ? -1 : 1;\n    const depthDelta = (l.node.state.path.length - r.node.state.path.length) * factor;\n    return depthDelta !== 0 ? depthDelta : r.hook.priority - l.hook.priority;\n  };\n}\n"},"lineCount":null}},"error":null,"hash":"c2b99dc70cb545f21c5f4d9a59769fc8","cacheData":{"env":{}}}