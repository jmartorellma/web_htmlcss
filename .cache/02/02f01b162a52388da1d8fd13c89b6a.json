{"id":"CNjK","dependencies":[{"name":"/mnt/c/VSCodeProjects/htmlcss/node_modules/@uirouter/core/lib-esm/hooks/updateGlobals.js.map","includedInParent":true,"mtime":499162500000},{"name":"/mnt/c/VSCodeProjects/htmlcss/package.json","includedInParent":true,"mtime":1586051529139},{"name":"/mnt/c/VSCodeProjects/htmlcss/.browserslistrc","includedInParent":true,"mtime":1585754583397},{"name":"/mnt/c/VSCodeProjects/htmlcss/node_modules/@uirouter/core/package.json","includedInParent":true,"mtime":1586051527707},{"name":"../common/common","loc":{"line":1,"column":21},"parent":"/mnt/c/VSCodeProjects/htmlcss/node_modules/@uirouter/core/lib-esm/hooks/updateGlobals.js","resolved":"/mnt/c/VSCodeProjects/htmlcss/node_modules/@uirouter/core/lib-esm/common/common.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.registerUpdateGlobalState=void 0;var e=require(\"../common/common\"),r=function(r){var t=r.router.globals,o=function(){t.transition===r&&(t.transition=null)};r.onSuccess({},function(){t.successfulTransitions.enqueue(r),t.$current=r.$to(),t.current=t.$current.self,(0,e.copy)(r.params(),t.params)},{priority:1e4}),r.promise.then(o,o)},t=function(e){return e.onCreate({},r)};exports.registerUpdateGlobalState=t;"},"sourceMaps":{"js":{"mappings":[{"source":"@uirouter/core/hooks/updateGlobals.ts","name":null,"original":{"line":38,"column":7},"generated":{"line":1,"column":0}},{"source":"@uirouter/core/hooks/updateGlobals.ts","name":null,"original":{"line":38,"column":7},"generated":{"line":1,"column":13}},{"source":"@uirouter/core/hooks/updateGlobals.ts","name":null,"original":{"line":38,"column":7},"generated":{"line":1,"column":20}},{"source":"@uirouter/core/hooks/updateGlobals.ts","name":null,"original":{"line":38,"column":7},"generated":{"line":1,"column":35}},{"source":"@uirouter/core/hooks/updateGlobals.ts","name":null,"original":{"line":38,"column":7},"generated":{"line":1,"column":43}},{"source":"@uirouter/core/hooks/updateGlobals.ts","name":null,"original":{"line":38,"column":7},"generated":{"line":1,"column":56}},{"source":"@uirouter/core/hooks/updateGlobals.ts","name":null,"original":{"line":38,"column":7},"generated":{"line":1,"column":57}},{"source":"@uirouter/core/hooks/updateGlobals.ts","name":null,"original":{"line":38,"column":7},"generated":{"line":1,"column":64}},{"source":"@uirouter/core/hooks/updateGlobals.ts","name":null,"original":{"line":38,"column":7},"generated":{"line":1,"column":68}},{"source":"@uirouter/core/hooks/updateGlobals.ts","name":null,"original":{"line":38,"column":7},"generated":{"line":1,"column":76}},{"source":"@uirouter/core/hooks/updateGlobals.ts","name":null,"original":{"line":38,"column":7},"generated":{"line":1,"column":107}},{"source":"@uirouter/core/hooks/updateGlobals.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":109}},{"source":"@uirouter/core/hooks/updateGlobals.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":113}},{"source":"@uirouter/core/hooks/updateGlobals.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":115}},{"source":"@uirouter/core/hooks/updateGlobals.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":1,"column":123}},{"source":"@uirouter/core/hooks/updateGlobals.ts","name":null,"original":{"line":18,"column":6},"generated":{"line":1,"column":143}},{"source":"@uirouter/core/hooks/updateGlobals.ts","name":null,"original":{"line":18,"column":26},"generated":{"line":1,"column":145}},{"source":"@uirouter/core/hooks/updateGlobals.ts","name":null,"original":{"line":18,"column":27},"generated":{"line":1,"column":154}},{"source":"@uirouter/core/hooks/updateGlobals.ts","name":null,"original":{"line":19,"column":8},"generated":{"line":1,"column":157}},{"source":"@uirouter/core/hooks/updateGlobals.ts","name":null,"original":{"line":19,"column":8},"generated":{"line":1,"column":161}},{"source":"@uirouter/core/hooks/updateGlobals.ts","name":null,"original":{"line":19,"column":18},"generated":{"line":1,"column":163}},{"source":"@uirouter/core/hooks/updateGlobals.ts","name":null,"original":{"line":19,"column":24},"generated":{"line":1,"column":165}},{"source":"@uirouter/core/hooks/updateGlobals.ts","name":null,"original":{"line":19,"column":31},"generated":{"line":1,"column":172}},{"source":"@uirouter/core/hooks/updateGlobals.ts","name":null,"original":{"line":29,"column":8},"generated":{"line":1,"column":180}},{"source":"@uirouter/core/hooks/updateGlobals.ts","name":null,"original":{"line":29,"column":33},"generated":{"line":1,"column":182}},{"source":"@uirouter/core/hooks/updateGlobals.ts","name":null,"original":{"line":31,"column":8},"generated":{"line":1,"column":193}},{"source":"@uirouter/core/hooks/updateGlobals.ts","name":null,"original":{"line":31,"column":16},"generated":{"line":1,"column":195}},{"source":"@uirouter/core/hooks/updateGlobals.ts","name":null,"original":{"line":31,"column":31},"generated":{"line":1,"column":208}},{"source":"@uirouter/core/hooks/updateGlobals.ts","name":null,"original":{"line":31,"column":38},"generated":{"line":1,"column":212}},{"source":"@uirouter/core/hooks/updateGlobals.ts","name":null,"original":{"line":31,"column":46},"generated":{"line":1,"column":214}},{"source":"@uirouter/core/hooks/updateGlobals.ts","name":null,"original":{"line":31,"column":59},"generated":{"line":1,"column":225}},{"source":"@uirouter/core/hooks/updateGlobals.ts","name":null,"original":{"line":34,"column":2},"generated":{"line":1,"column":232}},{"source":"@uirouter/core/hooks/updateGlobals.ts","name":null,"original":{"line":34,"column":8},"generated":{"line":1,"column":234}},{"source":"@uirouter/core/hooks/updateGlobals.ts","name":null,"original":{"line":34,"column":18},"generated":{"line":1,"column":244}},{"source":"@uirouter/core/hooks/updateGlobals.ts","name":null,"original":{"line":21,"column":31},"generated":{"line":1,"column":247}},{"source":"@uirouter/core/hooks/updateGlobals.ts","name":null,"original":{"line":22,"column":4},"generated":{"line":1,"column":258}},{"source":"@uirouter/core/hooks/updateGlobals.ts","name":null,"original":{"line":22,"column":12},"generated":{"line":1,"column":260}},{"source":"@uirouter/core/hooks/updateGlobals.ts","name":null,"original":{"line":22,"column":34},"generated":{"line":1,"column":282}},{"source":"@uirouter/core/hooks/updateGlobals.ts","name":null,"original":{"line":22,"column":42},"generated":{"line":1,"column":290}},{"source":"@uirouter/core/hooks/updateGlobals.ts","name":null,"original":{"line":23,"column":4},"generated":{"line":1,"column":293}},{"source":"@uirouter/core/hooks/updateGlobals.ts","name":null,"original":{"line":23,"column":12},"generated":{"line":1,"column":295}},{"source":"@uirouter/core/hooks/updateGlobals.ts","name":null,"original":{"line":23,"column":23},"generated":{"line":1,"column":304}},{"source":"@uirouter/core/hooks/updateGlobals.ts","name":null,"original":{"line":23,"column":29},"generated":{"line":1,"column":306}},{"source":"@uirouter/core/hooks/updateGlobals.ts","name":null,"original":{"line":24,"column":4},"generated":{"line":1,"column":312}},{"source":"@uirouter/core/hooks/updateGlobals.ts","name":null,"original":{"line":24,"column":12},"generated":{"line":1,"column":314}},{"source":"@uirouter/core/hooks/updateGlobals.ts","name":null,"original":{"line":24,"column":22},"generated":{"line":1,"column":322}},{"source":"@uirouter/core/hooks/updateGlobals.ts","name":null,"original":{"line":24,"column":30},"generated":{"line":1,"column":324}},{"source":"@uirouter/core/hooks/updateGlobals.ts","name":null,"original":{"line":24,"column":39},"generated":{"line":1,"column":333}},{"source":"@uirouter/core/hooks/updateGlobals.ts","name":null,"original":{"line":26,"column":9},"generated":{"line":1,"column":339}},{"source":"@uirouter/core/hooks/updateGlobals.ts","name":null,"original":{"line":26,"column":9},"generated":{"line":1,"column":341}},{"source":"@uirouter/core/hooks/updateGlobals.ts","name":null,"original":{"line":26,"column":9},"generated":{"line":1,"column":343}},{"source":"@uirouter/core/hooks/updateGlobals.ts","name":null,"original":{"line":26,"column":9},"generated":{"line":1,"column":349}},{"source":"@uirouter/core/hooks/updateGlobals.ts","name":null,"original":{"line":26,"column":15},"generated":{"line":1,"column":351}},{"source":"@uirouter/core/hooks/updateGlobals.ts","name":null,"original":{"line":26,"column":25},"generated":{"line":1,"column":360}},{"source":"@uirouter/core/hooks/updateGlobals.ts","name":null,"original":{"line":26,"column":33},"generated":{"line":1,"column":362}},{"source":"@uirouter/core/hooks/updateGlobals.ts","name":null,"original":{"line":34,"column":44},"generated":{"line":1,"column":371}},{"source":"@uirouter/core/hooks/updateGlobals.ts","name":null,"original":{"line":34,"column":46},"generated":{"line":1,"column":372}},{"source":"@uirouter/core/hooks/updateGlobals.ts","name":null,"original":{"line":34,"column":56},"generated":{"line":1,"column":381}},{"source":"@uirouter/core/hooks/updateGlobals.ts","name":null,"original":{"line":35,"column":2},"generated":{"line":1,"column":387}},{"source":"@uirouter/core/hooks/updateGlobals.ts","name":null,"original":{"line":35,"column":8},"generated":{"line":1,"column":389}},{"source":"@uirouter/core/hooks/updateGlobals.ts","name":null,"original":{"line":35,"column":16},"generated":{"line":1,"column":397}},{"source":"@uirouter/core/hooks/updateGlobals.ts","name":null,"original":{"line":35,"column":21},"generated":{"line":1,"column":402}},{"source":"@uirouter/core/hooks/updateGlobals.ts","name":null,"original":{"line":35,"column":45},"generated":{"line":1,"column":404}},{"source":"@uirouter/core/hooks/updateGlobals.ts","name":null,"original":{"line":38,"column":13},"generated":{"line":1,"column":408}},{"source":"@uirouter/core/hooks/updateGlobals.ts","name":null,"original":{"line":38,"column":41},"generated":{"line":1,"column":410}},{"source":"@uirouter/core/hooks/updateGlobals.ts","name":null,"original":{"line":38,"column":42},"generated":{"line":1,"column":419}},{"source":"@uirouter/core/hooks/updateGlobals.ts","name":null,"original":{"line":39,"column":2},"generated":{"line":1,"column":422}},{"source":"@uirouter/core/hooks/updateGlobals.ts","name":null,"original":{"line":39,"column":2},"generated":{"line":1,"column":429}},{"source":"@uirouter/core/hooks/updateGlobals.ts","name":null,"original":{"line":39,"column":20},"generated":{"line":1,"column":431}},{"source":"@uirouter/core/hooks/updateGlobals.ts","name":null,"original":{"line":39,"column":29},"generated":{"line":1,"column":440}},{"source":"@uirouter/core/hooks/updateGlobals.ts","name":null,"original":{"line":39,"column":33},"generated":{"line":1,"column":443}},{"source":"@uirouter/core/hooks/updateGlobals.ts","name":null,"original":{"line":38,"column":7},"generated":{"line":1,"column":447}},{"source":"@uirouter/core/hooks/updateGlobals.ts","name":null,"original":{"line":38,"column":7},"generated":{"line":1,"column":455}},{"source":"@uirouter/core/hooks/updateGlobals.ts","name":null,"original":{"line":38,"column":7},"generated":{"line":1,"column":481}}],"sources":{"@uirouter/core/hooks/updateGlobals.ts":"/** @internalapi @module hooks */ /** */\nimport { Transition } from '../transition/transition';\nimport { copy } from '../common/common';\nimport { TransitionService } from '../transition/transitionService';\n\n/**\n * A [[TransitionHookFn]] which updates global UI-Router state\n *\n * Registered using `transitionService.onBefore({}, updateGlobalState);`\n *\n * Before a [[Transition]] starts, updates the global value of \"the current transition\" ([[Globals.transition]]).\n * After a successful [[Transition]], updates the global values of \"the current state\"\n * ([[Globals.current]] and [[Globals.$current]]) and \"the current param values\" ([[Globals.params]]).\n *\n * See also the deprecated properties:\n * [[StateService.transition]], [[StateService.current]], [[StateService.params]]\n */\nconst updateGlobalState = (trans: Transition) => {\n  const globals = trans.router.globals;\n\n  const transitionSuccessful = () => {\n    globals.successfulTransitions.enqueue(trans);\n    globals.$current = trans.$to();\n    globals.current = globals.$current.self;\n\n    copy(trans.params(), globals.params);\n  };\n\n  const clearCurrentTransition = () => {\n    // Do not clear globals.transition if a different transition has started in the meantime\n    if (globals.transition === trans) globals.transition = null;\n  };\n\n  trans.onSuccess({}, transitionSuccessful, { priority: 10000 });\n  trans.promise.then(clearCurrentTransition, clearCurrentTransition);\n};\n\nexport const registerUpdateGlobalState = (transitionService: TransitionService) =>\n  transitionService.onCreate({}, updateGlobalState);\n"},"lineCount":null}},"error":null,"hash":"ba4ecdb007cdca2ba8df269474cf913c","cacheData":{"env":{}}}